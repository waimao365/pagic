<!doctype html><html class="" data-reactroot=""><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/>
<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="description" content="Use this template to create a Pagic site with the blog theme."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/>
<title data-react-helmet="true">hexo安装后的使用教程 · pagic template</title>
<link data-react-helmet="true" rel="stylesheet" href="/assets/index.css"/><link data-react-helmet="true" id="prismTheme" rel="stylesheet" href="/assets/prism.css"/>
<script data-react-helmet="true" >
    const shouldSetIsDark = document.cookie.includes('is_dark=1') ? true : document.cookie.includes('is_dark=0') ? false : window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (shouldSetIsDark) {
      document.documentElement.classList.add('is_dark');
      document.getElementById('prismTheme').href = "/assets/prism_tomorrow.css";
    }
  </script>
</head><body><a class="czs-menu-l show_on_mobile aside_button_open" href="#" style="background-image:url(&quot;/assets/czs-menu-l.svg&quot;)"></a><a class="show_on_mobile aside_button_text" href="/">pagic template</a><aside class="hide_on_mobile"><div class="aside_card"><a class="czs-menu-l show_on_mobile aside_button_close" href="#" style="background-image:url(&quot;/assets/czs-close-l.svg&quot;)"></a><h1><a href="/">pagic template</a></h1><p class="description">Use this template to create a Pagic site with the blog theme.</p><ul class="social list_style_none"><li class="flex_center"><a class="czs-github-logo" href="https://github.com/waimao8/pagic_template" target="_blank" style="background-image:url(&quot;/assets/czs-github-logo.svg&quot;)"></a></li><li class="flex_center"><a class="czs-message-l" href="mailto:huqi@gpdi.com" target="_blank" style="background-image:url(&quot;/assets/czs-message-l.svg&quot;)"></a></li><li class="flex_center"><a class="czs-twitter" href="https://twitter.com/huqii" target="_blank" style="background-image:url(&quot;/assets/czs-twitter.svg&quot;)"></a></li><li class="flex_center"><a class="czs-v2ex" href="https://v2ex.com/member/huqi" target="_blank" style="background-image:url(&quot;/assets/czs-v2ex.svg&quot;)"></a></li><li class="flex_center"><a class="czs-zhihu" href="https://www.zhihu.com/people/fashaoge" target="_blank" style="background-image:url(&quot;/assets/czs-zhihu.svg&quot;)"></a></li><li style="flex-grow:1"></li><li class="toggle_dark flex_center"><span class="czs-sun" style="background-image:url(&quot;/assets/czs-sun.svg&quot;)"></span><span class="czs-sun-l" style="background-image:url(&quot;/assets/czs-sun-l.svg&quot;)"></span><span class="czs-moon" style="background-image:url(&quot;/assets/czs-moon.svg&quot;)"></span><span class="czs-moon-l" style="background-image:url(&quot;/assets/czs-moon-l.svg&quot;)"></span></li></ul><nav><ul class="menu list_style_none"><li><a class="flex_center" href="/index.html"><span class="czs-home-l" style="background-image:url(&quot;/assets/czs-home-l.svg&quot;)"></span>Homepage</a></li><li><a class="flex_center" href="/categories/index.html"><span class="czs-category-l" style="background-image:url(&quot;/assets/czs-category-l.svg&quot;)"></span>Categories</a></li><li><a class="flex_center" href="/tags/index.html"><span class="czs-tag-l" style="background-image:url(&quot;/assets/czs-tag-l.svg&quot;)"></span>Tags</a></li><li><a class="flex_center" href="/about/index.html"><span class="czs-about-l" style="background-image:url(&quot;/assets/czs-about-l.svg&quot;)"></span>About</a></li><li><a class="flex_center" href="/archives/index.html"><span class="czs-box-l" style="background-image:url(&quot;/assets/czs-box-l.svg&quot;)"></span>Archives</a></li><li><a class="flex_center" href="/links/index.html"><span class="czs-link-l" style="background-image:url(&quot;/assets/czs-link-l.svg&quot;)"></span>Friends</a></li></ul></nav></div></aside><section class="main"><div class="main_post_meta"><time dateTime="Mon Sep 09 2019 22:37:42 GMT+0800 (CST)">2019-09-10</time> · <!-- -->unknown</div><article><p>​</p>
<h1>安装主题（next）</h1>
<p>git clone <a href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a> themes/next</p>
<p>下载主题解压后放到themes目录<br>
编辑主目录的_config.yml 查找language 设置 language: zh-CN</p>
<!-- more -->
<p>搜索Schemes
切换到 scheme: Gemini
搜索menu找到如下配置项，将about、tags、categories前的#号去掉</p>
<p>更新hexo或者主题可以复制 备份好的source  文件夹替换，新安装的博客可以按照下面教程重新安装</p>
<h1>添加分类</h1>
<p>1、创建“分类”选项<br>
1.1 生成“分类”页并添加tpye属性<br>
打开命令行，进入博客所在文件夹。执行命令</p>
<pre class="language-autoit"><code class="language-autoit">hexo new page categories

</code></pre>
<p>成功后会提示：</p>
<pre class="language-autoit"><code class="language-autoit">INFO  Created<span class="token punctuation">:</span> ~<span class="token operator">/</span>Documents<span class="token operator">/</span>blog<span class="token operator">/</span>source<span class="token operator">/</span>categories<span class="token operator">/</span>index<span class="token punctuation">.</span>md

</code></pre>
<p>根据上面的路径，找到index.md这个文件，打开后默认内容是这样的：</p>
<pre class="language-autoit"><code class="language-autoit"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
title<span class="token punctuation">:</span> 文章分类
date<span class="token punctuation">:</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">00</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

</code></pre>
<p>添加type: &quot;categories&quot;到内容中，添加后是这样的：</p>
<pre class="language-autoit"><code class="language-autoit"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
title<span class="token punctuation">:</span> 文章分类
date<span class="token punctuation">:</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">00</span>
type<span class="token punctuation">:</span> <span class="token string">"categories"</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

</code></pre>
<p>保存并关闭文件。</p>
<h1>给文章添加“categories”属性</h1>
<p>打开需要添加分类的文章，为其添加categories属性。下方的categories: web前端表示添加这篇文章到“web前端”这个分类。注意：hexo一篇文章只能属于一个分类，也就是说如果在“- web前端”下方添加“-xxx”，hexo不会产生两个分类，而是把分类嵌套（即该文章属于 “- web前端”下的 “-xxx ”分类）。</p>
<pre class="language-autoit"><code class="language-autoit"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
title<span class="token punctuation">:</span> jQuery对表单的操作及更多应用
date<span class="token punctuation">:</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">22</span>
categories<span class="token punctuation">:</span> 
<span class="token operator">-</span> web前端
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

</code></pre>
<p>至此，成功给文章添加分类，点击首页的“分类”可以看到该分类下的所有文章。当然，只有添加了categories: xxx的文章才会被收录到首页的“分类”中。</p>
<h1>创建“标签”选项</h1>
<p>生成“标签”页并添加tpye属性<br>
打开命令行，进入博客所在文件夹。执行命令</p>
<pre class="language-autoit"><code class="language-autoit">hexo new page tags

</code></pre>
<p>找到 source/tags/index.md<br>
添加type: &quot;tags&quot;到内容中，添加后是这样的</p>
<pre class="language-autoit"><code class="language-autoit"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
title<span class="token punctuation">:</span> 文章分类
date<span class="token punctuation">:</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">:</span><span class="token number">55</span>
type<span class="token punctuation">:</span> <span class="token string">"tags"</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

</code></pre>
<p>保存并关闭文件。</p>
<h1>给文章添加标签和分类</h1>
<pre class="language-autoit"><code class="language-autoit">title<span class="token punctuation">:</span> title #文章標題
date<span class="token punctuation">:</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">00</span><span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">:</span><span class="token number">12</span> #文章生成時間
categories<span class="token punctuation">:</span> <span class="token string">"Hexo教程"</span> #文章分類目錄 可以省略
tags<span class="token punctuation">:</span> #文章標籤 可以省略
     <span class="token operator">-</span> 标签<span class="token number">1</span>
     <span class="token operator">-</span> 标签<span class="token number">2</span>
 description<span class="token punctuation">:</span> #你對本頁的描述 可以省略

</code></pre>
<h1>添加菜单</h1>
<p>编辑主题的_config.yml，查找menu，去掉 tags categories about 前面的#号就可以了</p>
<h1>显示摘要 阅读全文</h1>
<p>在文章下面添加，建议在3到5行处添加
&lt; !--more--&gt;</p>
<h1>添加版权</h1>
<p>搜索 creative_commons
sidebar: false 改成  sidebar: true
post: false 改成 post: true</p>
<h1>文章Url固定链接（修改博客根目录的_config.yml）</h1>
<p>查找 permalink: :year/:month/:day/:title/
替换成
permalink: archives/:abbrlink.html
写文章加上 abbrlink: 1（数字越大的，就是越新的文章）</p>
<h1>置顶</h1>
<p><a href="https://github.com/netcan/hexo-generator-index-pin-top">支持置顶的仓库</a></p>
<p>可以直接用以下命令安装</p>
<p>$ npm uninstall hexo-generator-index --save
$ npm install hexo-generator-index-pin-top --save
然后在需要置顶的文章的Front-matter中加上top: true即可。</p>
<p>设置置顶标志
打开：/blog/themes/next/layout/_macro 目录下的post.swig文件
查找</p>
<pre class="language-autoit"><code class="language-autoit"> <span class="token operator">&lt;</span>div class<span class="token operator">=</span><span class="token string">"post-meta"</span><span class="token operator">></span>  
</code></pre>
<p>下面添加</p>
<pre class="language-autoit"><code class="language-autoit">           {% <span class="token keyword">if</span> post<span class="token punctuation">.</span>top %}
            <span class="token operator">&lt;</span>i class<span class="token operator">=</span><span class="token string">"fa fa-thumb-tack"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">></span>
            <span class="token operator">&lt;</span>font color<span class="token operator">=</span>7D26CD<span class="token operator">></span>置顶<span class="token operator">&lt;</span><span class="token operator">/</span>font<span class="token operator">></span>
            <span class="token operator">&lt;</span>span class<span class="token operator">=</span><span class="token string">"post-meta-divider"</span><span class="token operator">></span>|<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
           {% <span class="token keyword">endif</span> %}

</code></pre>
<p>需要置顶文章需要添加    top: true</p>
<h1>添加不蒜子访问统计</h1>
<p>是否开启访问量统计功能(不蒜子)
busuanzi:
enable: true
修改next主题的模板文件
需要修改的模板文件是theme/next/layout/_partials/footer.swig
在最后面添加</p>
<pre class="language-autoit"><code class="language-autoit">{% <span class="token keyword">if</span> theme<span class="token punctuation">.</span>footer<span class="token punctuation">.</span>counter %}
    <span class="token operator">&lt;</span>script async src<span class="token operator">=</span><span class="token string">"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

    <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_container_site_pv"</span><span class="token operator">></span>总访问量<span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_value_site_pv"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>次<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span>span class<span class="token operator">=</span><span class="token string">"post-meta-divider"</span><span class="token operator">></span>|<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_container_site_uv"</span><span class="token operator">></span>总访客<span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_value_site_uv"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>人<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span>span class<span class="token operator">=</span><span class="token string">"post-meta-divider"</span><span class="token operator">></span>|<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>

{% <span class="token keyword">endif</span> %}

</code></pre>
<h1>添加评论</h1>
<p>Github大礼包：gitment， gitalk（推荐），gitter（推荐）; 三个都支持Markdown；基于leancloud的无后端评论系统：Valine（推荐，支持Markdown）
本站使用
Valine+Leancloud 国际版 <a href="https://console.leancloud.app">https://console.leancloud.app</a>
在存储-&gt;结构化数据创建一个class并命名为comment。
在设置-&gt;应用Keys可以看到自动生成的AppID和AppKey,填到下面对应的位置就可以了</p>
<pre class="language-autoit"><code class="language-autoit">valine<span class="token punctuation">:</span>
  enable<span class="token punctuation">:</span> ture
  appid<span class="token punctuation">:</span> xxxxxxx
  appkey<span class="token punctuation">:</span> xxxxxx

</code></pre>
<h1>添加阅读人数（真实人数）</h1>
<p>id和key 也可以用上面Leancloud 国际版 的AppID和AppKey,</p>
<pre class="language-autoit"><code class="language-autoit">leancloud_visitors<span class="token punctuation">:</span>
  enable<span class="token punctuation">:</span> <span class="token boolean">true</span>
  app_id<span class="token punctuation">:</span> xxxxx
  app_key<span class="token punctuation">:</span> xxxxxx

</code></pre>
<h1>添加阅读人数之不蒜子（虚高人数）</h1>
<p>打开不蒜子</p>
<pre class="language-autoit"><code class="language-autoit">busuanzi_count<span class="token punctuation">:</span>
  enable<span class="token punctuation">:</span> ture
  
</code></pre>
<p>打开 next\layout_partials  找到footer.swig文件，在最下面添加</p>
<pre class="language-autoit"><code class="language-autoit">
{% <span class="token keyword">if</span> theme<span class="token punctuation">.</span>footer<span class="token punctuation">.</span>counter %}
    <span class="token operator">&lt;</span>script async src<span class="token operator">=</span><span class="token string">"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

    <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_container_site_pv"</span><span class="token operator">></span>总访问量<span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_value_site_pv"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>次<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span>span class<span class="token operator">=</span><span class="token string">"post-meta-divider"</span><span class="token operator">></span>|<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_container_site_uv"</span><span class="token operator">></span>总访客<span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"busuanzi_value_site_uv"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>人<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span>span class<span class="token operator">=</span><span class="token string">"post-meta-divider"</span><span class="token operator">></span>|<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>

{% <span class="token keyword">endif</span> %}


</code></pre></article></section><footer>Powered by <a href="https://github.com/xcatliu/pagic" target="_blank">Pagic</a></footer><script src="https://cdn.pagic.org/react@16.13.1/umd/react.production.min.js"></script><script src="https://cdn.pagic.org/react-dom@16.13.1/umd/react-dom.production.min.js"></script><script type="module" src="/index.js"></script></body></html>